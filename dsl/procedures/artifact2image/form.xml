<!--

     Copyright 2016 Electric Cloud, Inc.

     Licensed under the Apache License, Version 2.0 (the "License");
     you may not use this file except in compliance with the License.
     You may obtain a copy of the License at

         http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing, software
     distributed under the License is distributed on an "AS IS" BASIS,
     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     See the License for the specific language governing permissions and
     limitations under the License.

-->
<editor>
    <formElement>
        <type>entry</type>
        <label>EC-Docker Configuration:</label>
        <property>config</property>
        <required>1</required>
        <documentation>Name of the existing EC-Docker plugin configuration</documentation>
    </formElement>
    <formElement>
        <type>entry</type>
        <label>EC-Artifact Name:</label>
        <property>ecp_docker_artifactName</property>
        <required>0</required>
        <documentation>If reading artifact from the ElectricFlow Artifact repository: provide the name in the format 'group:artifact'</documentation>
    </formElement>
    <formElement>
        <type>entry</type>
        <label>EC-Artifact Version:</label>
        <required>0</required>
        <property>ecp_docker_versionRange</property>
        <documentation>Provide the artifact version that will be retrieved from EC-Artifact repository (e.g. 0.0.1).  If left empty, the latest artifact version will be retrieved.</documentation>
    </formElement>
    <formElement>
        <type>textarea</type>
        <label>Artifact Filesystem Location:</label>
        <required>0</required>
        <property>ecp_docker_artifactLocation</property>
        <documentation>If reading the artifact directly from a filesystem location, provide the path to the folder containing the artifact or to the artifact itself (e.g. /myArtifactStorage/artifact.war or /my-storage/artifact1/)</documentation>
    </formElement>
    <formElement>
        <type>entry</type>
        <label>Artifactory - Configuration Name:</label>
        <property>ecp_docker_artifactoryConfigName</property>
        <documentation>If reading artifact from Artifactory: Name of an existing configuration for the EC-Artifactory plugin. Please note: the EC-Artifactory plugin must be installed and promoted.</documentation>
        <required>0</required>
    </formElement>
    <formElement>
        <type>select</type>
        <label>Artifactory Repository Type:</label>
        <property>ecp_docker_artifactoryRepoType</property>
        <documentation>Required if retrieving from Artifactory</documentation>
        <required>0</required>
        <option>
            <value>Maven</value>
            <name>Maven</name>
        </option>
        <option>
            <name>NuGet</name>
            <value>NuGet</value>
        </option>
        <option>
            <value>Generic</value>
            <name>Generic</name>
        </option>
    </formElement>
    <formElement>
        <type>entry</type>
        <label>Artifactory Repository Key:</label>
        <property>ecp_docker_artifactoryRepoKey</property>
        <documentation>Repository key for the repository in Artifactory, e.g. myrepo, libs-release-local. Required if Artifactory is used.</documentation>
        <required>0</required>
    </formElement>
    <formElement>
        <type>entry</type>
        <label>Artifactory Organization Path:</label>
        <property>ecp_docker_artifactoryOrgPath</property>
        <documentation>Organization path for the artifact in Artifactory, e.g. com/mycompany. Required if Artifactory is used.</documentation>
        <required>0</required>
    </formElement>
    <formElement>
        <type>entry</type>
        <label>Artifactory Artifact Name:</label>
        <property>ecp_docker_artifactoryArtifactName</property>
        <documentation>Name of the artifact (module name) in the artifactory. E.g. my-artifact. Required if Artifactory is used.</documentation>
        <required>0</required>
    </formElement>
    <formElement>
        <type>entry</type>
        <label>Artifactory Artifact Version:</label>
        <property>ecp_docker_artifactoryVersion</property>
        <documentation>Artifact version in Artifactory, e.g. 1.0.0. If left blank, the latest version will be retrieved (Artifactory Pro is required for non-Maven repositories to retrieve the latest version). Required if retrieving from Artifactory.</documentation>
        <required>0</required>
    </formElement>
    <formElement>
        <type>entry</type>
        <label>Artifactory Artifact Extension:</label>
        <property>ecp_docker_artifactoryExtension</property>
        <documentation>Artifact extension, e.g. jar or war. Required if retrieving from Artifactory.</documentation>
        <required>0</required>
    </formElement>
    <formElement>
        <type>entry</type>
        <required>1</required>
        <property>ecp_docker_imageName</property>
        <label>Image Name:</label>
        <documentation>Name and version of the new container image, provided in format: myrepo/image:v1.0.</documentation>
    </formElement>
    <formElement>
        <type>entry</type>
        <required>0</required>
        <label>Registry URL:</label>
        <property>ecp_docker_registryUrl</property>
        <documentation>Registry URL (if not specified, Dockerhub will be used).</documentation>
    </formElement>
    <formElement>
        <type>credential</type>
        <required>0</required>
        <property>ecp_docker_credential</property>
        <label>Docker Connection Credential:</label>
        <attachedAsParameterToStep>artifact2image</attachedAsParameterToStep>
        <documentation>Select an existing credential to use to connect to the Docker Registry</documentation>
    </formElement>
    <formElement>
        <type>entry</type>
        <required>0</required>
        <property>ecp_docker_baseImage</property>
        <label>Base Image:</label>
        <documentation>Base Image for the DockerFile. If not specified, the default base image for the artifact will be used.
        </documentation>
    </formElement>
    <formElement>
        <type>textarea</type>
        <required>0</required>
        <documentation>The ports to list in the EXPOSE instruction in the DockerFile. If not specified, the default port defined in the template DockerFile for the artifact will be used.
        </documentation>
        <label>Ports:</label>
        <property>ecp_docker_ports</property>
    </formElement>
    <formElement>
        <type>textarea</type>
        <label>Command:</label>
        <property>ecp_docker_command</property>
        <documentation>Command instruction for the DockerFile. E.g., "executable","param1","param2". If not specified, the default command defined in the template DockerFile for the artifact will be used.
        </documentation>
        <required>0</required>
    </formElement>
    <formElement>
        <type>textarea</type>
        <property>ecp_docker_env</property>
        <label>Environment Variables:</label>
        <required>0</required>
        <documentation>Multi-line name=value pairs. If specified, merge with any existing environment variables defined in the template DockerFile for the artifact.
        </documentation>
    </formElement>
    <formElement>
        <type>checkbox</type>
        <label>Remove Image After Push?:</label>
        <property>ecp_docker_removeAfterPush</property>
        <required>0</required>
        <checkedValue>true</checkedValue>
        <uncheckedValue>false</uncheckedValue>
        <documentation>If checked, the built image will be removed from the machine after it is pushed to the registry.</documentation>
    </formElement>
</editor>
